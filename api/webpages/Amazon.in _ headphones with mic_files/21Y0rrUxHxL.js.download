(function(h){var f=window.AmazonUIPageJS||window.P,l=f._namespace||f.attributeErrors,b=l?l("AmazonRushRouter",""):f;b.guardFatal?b.guardFatal(h)(b,window):b.execute(function(){h(b,window)})})(function(h,f,l){h.when("A").register("rush-routable-application-base",function(b){return b.createClass({init:function(d){this.applicationName=d},name:function(){return this.applicationName},unload:function(d){return{}},load:function(d,b){return!0}})});"use strict";h.when("A").register("rush-router-html5-history-support",
function(b){var d=b.$.extend;return function(b){function k(a,c,g){c=g.match(c);return{major:a&&c&&c[1]?parseInt(c[1],10):-1,minor:a&&c&&c[2]?parseInt(c[2],10):-1}}function h(a){if(!a||!a.url&&!a.state)return!1;e.replaceState(d({},e.state(),a.state),e.title(),a.url);return!0}var e=b||{userAgent:f.navigator.userAgent,pushState:function(a,c,g){f.history.pushState(a,c,g)},replaceState:function(a,c,g){f.history.replaceState(a,c,g)},title:function(){return document.title},state:function(){return f.history.state},
addStateChangeHandler:function(a){f.addEventListener("popstate",a,!1)},removeStateChangeHandler:function(a){f.removeEventListener("popstate",a)},hasNativeHistorySupport:function(){return f.history&&f.history.replaceState}};return{isSupportedBrowser:function(){var a=e.userAgent,c=/iPhone|iPad|iPod/.test(a),g=-1!==a.indexOf("Android"),d=k(c,/OS ([0-9]+)(?:_([0-9]+))?/,a),a=k(g,/Android ([0-9]+)(?:\.([0-9]+))?/,a);return e.hasNativeHistorySupport()&&!(c&&5>d.major)&&!(g&&4>a.major)&&!(g&&4===a.major&&
2>a.minor)},to:function(a){if(!a||!a.url&&!a.state)return!1;e.pushState(d({},a.state||{}),e.title(),a.url);return!0},replace:h,back:function(){e.history.back()},state:function(a){a&&h({state:a});return e.state()||{}},addStateChangeHandler:e.addStateChangeHandler,removeStateChangeHandler:e.removeStateChangeHandler}}});"use strict";h.when("A").register("rush-router-pattern-parser",function(b){function d(a,c){return c?(b.isArray(c)||(c=[c]),c.concat(b.isArray(a)?a:[a])):a}function h(a){return decodeURIComponent((a||
"").replace(/\+/g," "))}function f(a,c){var g={},b=!1,h=c.match(a),q=null,p,k=(a.toString().match(e)||[]).length;if(h){b=!0;p=h[0];(q=c.substr(p.length))&&"/"===p.charAt(p.length-1)&&(q="/"+q);p=1;for(var l=0;l<k;l++)g.wildcard=d(h[p],g.wildcard),p++}return{isMatch:b,remainingPathname:q,params:g}}function l(a){var c={},b,e,f;if(!a)return c;"?"===a[0]&&(a=a.slice(1));a=a.split("\x26");for(f=0;f<a.length;f++)b=a[f].split("\x3d"),e=h(b.shift()),b=b.length?h(b.join("\x3d")):null,e&&(c[e]=d(b,c[e]));return c}
var e=/\(\.\*\)/g;return{matchPathname:f,parseQueryString:l,matchLocation:function(a,c){var g=f(a,c.pathname),e;if(!1===g.isMatch||g.remainingPathname)return g.isMatch=!1,g;e=l(c.search);b.each(e,function(a,b){g.params[b]=d(a,g.params[b])});return g}}});"use strict";h.register("rush-route",function(){return{create:function(b,d){return{pattern:function(){return b},handler:function(){return d}}}}});"use strict";h.when("a-util","rush-router-pattern-parser","rush-route","rush-router-html5-history-support",
"rush-routable-application-base","rush-router-url-parser").register("R",function(b,d,w,k,r,e){function a(a){a=e.parse(a.href);return a.protocol+"//"+a.host}function c(){return document.location}function g(b,g){function k(a,b,c,g){if(!a)return!1;a:{var e,f;for(f=0;f<t.length;f++)if(c=t[f],e=d.matchLocation(c.pattern(),a),e.isMatch){c={route:c,params:e.params};break a}c=void 0}if(c)return e=c.params,!1===c.route.handler().call(a,e,a,g)?(!1!==b&&v(a.href),a=!1):a=!0,!!a;!1!==b&&v(a.href);return!1}function n(a){k(m(),
l,a)}function v(a){m().href===a?m().reload(!0):m().href=a}function r(c){if(!(1!==c.which||c.metaKey||c.ctrlKey||c.shiftKey||c.defaultPrevented)){for(var d=c.target,e=m().href;d&&"A"!==d.nodeName;)d=d.parentNode;!d||"A"!==d.nodeName||!d.hasAttribute("href")||d.hasAttribute("download")||"off"===d.getAttribute("data-routing")||d.target&&"_self"!==d.target||!(e=y===a(d)&&d.href!==e&&d.href.split("#")[0]!==e.split("#")[0])||(e=k(d,!1),!0===e&&(b.to({url:d.href,state:null}),c.preventDefault()))}}var m=
g||c,t=[],y=a(m()),u=!1;return{addRoute:function(a,c){var b=w.create(a,c);t.push(b)},removeRoute:function(){throw Error('the "rush-router R:removeRoute" method has been deprecated');},route:n,to:function(a,c){var d;a=x({url:m().href,state:{},history:!0},a);d=e.parse(a.url);!0===k(d,!0,!1,c)&&!1!==a.history&&b.to({url:a.url,state:a.state})},replace:function(){throw Error('the "rush-router R:replace" method has been deprecated');},back:b.back,state:b.state,switchApp:function(){throw Error('the "rush-router R:switchApp" method has been deprecated');
},start:function(a){u||(u=!0,h.when("load").execute("routerBindStateChangeHandler",function(){u&&b.addStateChangeHandler(n)}),f.addEventListener("click",r,!1),a=a?e.parse(a):m(),k(a,!1))},stop:function(){throw Error('the "rush-router R:stop" method has been deprecated');},pause:function(){throw Error('the "rush-router R:pause" method has been deprecated');},unpause:function(){throw Error('the "rush-router R:unpause" method has been deprecated');}}}var x=b.extend;b=b.mixin;var n={};b(n,g(new k));n.createRouter=
g;n.ApplicationBase=r;return n});"use strict";h.register("rush-router-url-parser",function(){var b="protocol hostname host pathname port search hash href".split(" ");return{parse:function(d){var f=document.createElement("a"),h={};f.href=d;f.href=f.href;for(d=0;d<b.length;d++)"pathname"===b[d]?h.pathname=f.pathname.replace(/(^\/?)/,"/"):h[b[d]]=f[b[d]];return h},toUrl:function(b){if(b)return b.protocol+"//"+b.host+b.pathname+b.search+b.hash}}})});